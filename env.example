# Nova CI-Rescue Environment Configuration
# Copy this file to .env and fill in your actual values

# ============================================
# REQUIRED: API Keys (at least one LLM key needed)
# ============================================

# OpenAI API Key for GPT models
# Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Anthropic API Key for Claude models
# Get yours at: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# OPTIONAL: OpenSWE Integration
# ============================================

# OpenSWE Service (optional - for advanced code generation)
# Contact OpenSWE team for access
OPENSWE_BASE_URL=https://api.openswe.com/v1
OPENSWE_API_KEY=openswe-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================
# OPTIONAL: Runtime Configuration
# ============================================

# Maximum iterations for fix attempts (default: 6)
# Increase for complex fixes, decrease for faster runs
NOVA_MAX_ITERS=6

# Overall timeout in seconds (default: 1200 = 20 minutes)
# Prevents runaway agent loops
NOVA_RUN_TIMEOUT_SEC=1200

# Test execution timeout in seconds (default: 600 = 10 minutes)
# Individual pytest run timeout
NOVA_TEST_TIMEOUT_SEC=600

# Telemetry directory (default: telemetry)
# Where logs and artifacts are stored
NOVA_TELEMETRY_DIR=telemetry

# Default LLM model for main operations (default: gpt-5)
# Options: gpt-5, gpt-4o, gpt-4o-mini, claude-3-opus, claude-3-sonnet
NOVA_DEFAULT_LLM_MODEL=gpt-5

# LLM model for PR generation (default: gpt-4o - faster than GPT-5)
# Options: gpt-4o, gpt-4o-mini, gpt-5, claude-3-sonnet
NOVA_PR_LLM_MODEL=gpt-4o

# Reasoning effort for GPT-5 models (default: high)
# Options: low, medium, high - controls cost/quality tradeoff
# Note: high is slower but provides better reasoning quality
NOVA_REASONING_EFFORT=high

# Whole file mode (default: true)
# When true, replaces entire files instead of using patches
# Set to false to use traditional patch mode
NOVA_WHOLE_FILE_MODE=true

# Allowed domains for HTTP requests (comma-separated)
# Security feature to prevent arbitrary network access
# Default includes: GitHub, PyPI, OpenAI, Anthropic
# NOVA_ALLOWED_DOMAINS=api.openai.com,api.anthropic.com,github.com,pypi.org

# ============================================
# NOTES
# ============================================
#
# 1. At minimum, you need either OPENAI_API_KEY or ANTHROPIC_API_KEY
# 2. For best results, configure both for fallback options
# 3. OpenSWE integration is optional but can improve complex fixes
# 4. Adjust timeouts based on your repository size and test suite
# 5. Lower max_iters for faster iteration during development
# 6. Check telemetry/ directory for detailed logs after each run
#
# Cost Estimates (approximate):
# - gpt-4o-mini: ~$0.05-0.10 per fix attempt
# - gpt-4o: ~$0.50-1.00 per fix attempt
# - claude-3-sonnet: ~$0.10-0.20 per fix attempt
# - claude-3-opus: ~$0.75-1.50 per fix attempt
#
# Start with gpt-4o-mini for testing, upgrade if needed.
